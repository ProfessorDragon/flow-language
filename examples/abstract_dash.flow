{"scripts": [{"name": "main", "blocks": [["script_start"], ["var_set", "root", ["create_window", "\"Abstract Dash\""]], ["canvas_outline", ""], ["canvas_outline_width", "0"], ["canvas_fill", "\"#33f\""], ["var_set", "canvas", ["create_canvas", "600", "400"]], ["var_set", "bg", ["create_rect", "0", "0", "600", "400"]], ["canvas_fill", "\"#000\""], ["var_set", "blocksize", "30"], ["var_set", "scroll", "0"], ["var_set", "x", "-blocksize"], ["var_set", "y", "250"], ["var_set", "yv", "0"], ["var_set", "speed", "10"], ["var_set", "player", ["create_rect", "x", "y", "blocksize", "blocksize"]], ["var_set", "groundy", ["add", "y", "blocksize"]], ["var_set", "ground", ["create_rect", "0", "groundy", "600", ["subtract", "400", ["add", "y", "blocksize"]]]], ["var_set", "onground", "1"], ["var_set", "level", "0"], ["var_set", "pressed", "0"], ["var_set", "airpressed", "0"], ["var_set", "gravity", "1"], ["var_set", "data", ["empty_dict"]], ["run_script", "load"], ["script_on_key_tk", "keydown", "keydown"], ["script_on_key_up_tk", "keyup", "keyup"], ["script_on_mouse_tk", "canvas", "\"left\"", "keydown"], ["script_on_mouse_up_tk", "canvas", "\"left\"", "keyup"], ["run_script", "update"], ["show_window", "root"]]}, {"name": "update", "blocks": [["script_start"], ["var_set", "bbox", ["canvas_bbox", "player"]], ["if", ["lt", "x", "100"], [["var_increment", "x", "speed"]]], ["else", [["var_increment", "scroll", "speed"], ["canvas_change_position", "\"level\"", "-speed", "0"]]], ["if", ["and", "pressed", "onground"], [["var_set", "yv", "29*gravity"]]], ["var_increment", "yv", "-4*gravity"], ["var_increment", "y", "-yv"], ["var_set", "onground", "0"], ["canvas_set_position", "player", "x", "y"], ["var_set", "doreset", "0"], ["enumerate", ["find_overlapping", "player"], "_", "o", [["if", ["equals", "o", "ground"], [["var_set", "y", "groundy-blocksize"], ["var_set", "onground", "1"]]], ["enumerate", ["canvas_get_tags", "o"], "_", "t", [["if", ["equals", "t", "\"block\""], [["if", ["gt", "gravity", "0"], [["if", ["or", ["gt", ["subtract", "y+blocksize", ["array_item", ["canvas_bbox", "o"], "1"]], "-yv+5"], ["gt_equal", "yv", "0"]], [["var_set", "doreset", "1"]]], ["else", [["var_set", "y", ["subtract", ["array_item", ["canvas_bbox", "o"], "1"], "blocksize"]], ["var_set", "onground", "1"]]]]], ["else_if", ["lt", "gravity", "0"], [["if", ["or", ["lt", ["subtract", "y", ["array_item", ["canvas_bbox", "o"], "3"]], "-yv-5"], ["lt_equal", "yv", "0"]], [["var_set", "doreset", "1"]]], ["else", [["var_set", "y", ["subtract", ["array_item", ["canvas_bbox", "o"], "3"], "2"]], ["var_set", "onground", "1"]]]]]]], ["else_if", ["or", ["equals", "t", "\"spike\""], ["equals", "t", "\"revspike\""]], [["var_set", "doreset", "1"]]], ["else_if", ["and", ["equals", "t", "\"orb\""], ["equals", "airpressed", "1"]], [["var_set", "yv", "29*gravity"]]], ["else_if", ["equals", "t", "\"gravityrev\""], [["var_set", "gravity", "-1"]]], ["else_if", ["equals", "t", "\"gravitynorm\""], [["var_set", "gravity", "1"]]], ["if", "doreset", [["break_loop"]]]]], ["if", "doreset", [["run_script", "reset"], ["break_loop"]]]]], ["if", "onground", [["canvas_set_position", "player", "x", "y"], ["var_set", "yv", "0"]]], ["if", "pressed", [["var_increment", "pressed", "1"]]], ["script_after_time", "update", "1000/30", "update"]]}, {"name": "load", "blocks": [["script_start"], ["with_file", "\"abstract_data.json\"", "\"r\"", "f", [["var_set", "data", ["json_to_dict", ["read_file", "f"]]]]], ["var_set", "blocks", ["array_item", ["array_item", "data", "\"levels\""], "level"]], ["canvas_font", "\"Verdana\"", "14", "\"\""], ["canvas_add_tag", ["create_text", "50", "200", ["array_item", "blocks", "\"name\""], "\"nw\""], "\"level\""], ["var_set", "blocks", ["array_item", "blocks", "\"blocks\""]], ["enumerate", "blocks", "i", "b", [["var_set", "bx", ["multiply", ["array_item", "b", "1"], "blocksize"]], ["var_set", "by", ["subtract", "groundy", ["multiply", ["add", ["array_item", "b", "2"], "1"], "blocksize"]]], ["var_set", "n", ["array_item", "b", "0"]], ["if", ["equals", "n", "\"block\""], [["var_set", "obj", ["create_rect", "bx", "by", "blocksize", "blocksize"]]]], ["else_if", ["equals", "n", "\"spike\""], [["var_set", "obj", ["create_polygon", "[bx, by+blocksize, bx+blocksize, by+blocksize, bx+blocksize/2, by]"]]]], ["else_if", ["equals", "n", "\"revspike\""], [["var_set", "obj", ["create_polygon", "[bx, by, bx+blocksize, by, bx+blocksize/2, by+blocksize]"]]]], ["else_if", ["equals", "n", "\"orb\""], [["var_set", "obj", ["create_oval", "bx+5", "by+5", "blocksize-10", "blocksize-10"]]]], ["else_if", ["or", ["equals", "n", "\"gravityrev\""], ["equals", "n", "\"gravitynorm\""]], [["var_set", "obj", ["create_polygon", "[bx, by-blocksize, bx+10, by-blocksize, bx+blocksize, by, bx+blocksize, by+blocksize, bx+10, by+blocksize*2, bx, by+blocksize*2, bx+blocksize-10, by+blocksize, bx+blocksize-10, by]"]]]], ["canvas_add_tag", "obj", ["array_item", "b", "0"]], ["canvas_add_tag", "obj", "\"level\""]]]]}, {"name": "reset", "blocks": [["script_start"], ["canvas_change_position", "\"level\"", "scroll", "0"], ["var_set", "scroll", "0"], ["var_set", "x", "-blocksize"], ["var_set", "y", "250"], ["var_set", "yv", "0"], ["var_set", "speed", "10"], ["var_set", "onground", "1"], ["var_set", "pressed", "0"], ["var_set", "gravity", "1"]]}, {"name": "keydown", "blocks": [["script_start"], ["if", ["or", ["equals", ["event_button_tk"], "1"], ["or", ["equals", ["event_key_tk"], "\"space\""], ["equals", ["event_key_tk"], "\"Up\""]]], [["var_set", "pressed", "1"], ["var_set", "airpressed", ["subtract", "1", "onground"]]]], ["else_if", ["equals", ["event_key_tk"], "\"Escape\""], [["destroy_window"]]]]}, {"name": "keyup", "blocks": [["script_start"], ["if", ["or", ["equals", ["event_button_tk"], "1"], ["or", ["equals", ["event_key_tk"], "\"space\""], ["equals", ["event_key_tk"], "\"Up\""]]], [["var_set", "pressed", "0"], ["var_set", "airpressed", "0"]]]]}], "modules": [], "functionalities": {"console": false, "autoinstall": true, "windows": true, "dialogs": true, "modernwindows": true, "random": true, "time": true, "json": true, "keyboard": false, "playsound": false, "tts": false, "translate": false, "gd": false, "automation": false}}